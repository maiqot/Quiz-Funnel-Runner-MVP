# Quiz Funnel Runner

CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è quiz-–≤–æ—Ä–æ–Ω–æ–∫ –≤ –º–æ–±–∏–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ (iPhone 13) —Å–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏ –∏ –¥–µ—Ç–µ–∫—Ü–∏–µ–π paywall.

---

## üíª –ó–∞–ø—É—Å–∫ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –∏–ª–∏ IDE

–ü—Ä–æ–µ–∫—Ç ‚Äî —ç—Ç–æ CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞ Node.js.
–ï–≥–æ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å:

* –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ Terminal (macOS / Linux)
* –∏–∑ iTerm
* –∏–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ VS Code / Cursor / WebStorm
* –∏–∑ –ª—é–±–æ–π IDE —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Node.js

–ì–ª–∞–≤–Ω–æ–µ ‚Äî –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
cd Quiz-Funnel-Runner-MVP
```

# 1Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install
npx playwright install
```

‚ö†Ô∏è –ö–æ–º–∞–Ω–¥–∞ `npx playwright install` —Å–∫–∞—á–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä—ã:

* **Chromium** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
* **WebKit (Safari)** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å `--safari`

–ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å WebKit, —Ä–µ–∂–∏–º Safari —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç.

---

# 2Ô∏è‚É£ –ó–∞–ø—É—Å–∫

### –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫ (Chromium, headless) 

```bash
npm run dev
```

---

### –° –æ–∫–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–∞ (–¥–ª—è –¥–µ–º–æ)

```bash
npm run dev -- https://coursiv.io/dynamic --headful
```

---

### Safari (WebKit)

```bash
npm run dev -- https://coursiv.io/dynamic --safari --headful
```

–í–æ –≤—Å–µ—Ö —Ä–µ–∂–∏–º–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–±–∏–ª—å–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è **iPhone 13**.

---

# 3Ô∏è‚É£ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—è–≤—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ:

```
results/
```

## –ü–æ –≤–æ—Ä–æ–Ω–∫–∞–º

```
results/<funnel-slug>/
  01_question.png
  02_input.png
  ...
  summary.json
  log.txt
```

## –ü–æ —Ç–∏–ø–∞–º —ç–∫—Ä–∞–Ω–æ–≤

```
results/_classified/question/
results/_classified/input/
results/_classified/email/
results/_classified/paywall/
results/_classified/info/
results/_classified/other/
```

---

# 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–æ–∏—Ö —Å—Å—ã–ª–æ–∫

## –ß–µ—Ä–µ–∑ CLI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) 

–û–¥–∏–Ω URL:

```bash
npm run dev -- https://coursiv.io/dynamic
```

–ù–µ—Å–∫–æ–ª—å–∫–æ URL:

```bash
npm run dev -- https://coursiv.io/dynamic?prc_id=1069 https://dance-bit.com/welcomeBellyRef
```

–ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω—ã URL —á–µ—Ä–µ–∑ CLI ‚Äî –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–æ `config.ts`.
https://coursiv.io/dynamic?prc_id=1069
https://coursiv.io/dynamic
https://quiz.fitme.expert/intro-111
https://madmuscles.com/funnel/default-uni-soft-new/step-one
https://dance-bit.com/welcomeBellyRef

---

## –ß–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ:

```
src/config.ts
```

---

# 5Ô∏è‚É£ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

–î–ª—è –∫–∞–∂–¥–æ–≥–æ URL:

* –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤ –º–æ–±–∏–ª—å–Ω–æ–π —ç–º—É–ª—è—Ü–∏–∏ (iPhone 13)
* –ø—Ä–æ—Ö–æ–¥–∏—Ç —à–∞–≥ –∑–∞ —à–∞–≥–æ–º
* –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç –∫–∞–∂–¥–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
* –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —ç–∫—Ä–∞–Ω:

  * `question`
  * `input`
  * `email`
  * `info`
  * `paywall`
  * `other`
* –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ paywall

---

# 6Ô∏è‚É£ –ß—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è paywall

–≠–∫—Ä–∞–Ω —Å —Ü–µ–Ω–∞–º–∏ / –ø–æ–¥–ø–∏—Å–∫–æ–π / —Ç–∞—Ä–∏—Ñ–∞–º–∏.
–ü–æ—Å–ª–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è paywall –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.

---

# 7Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–í `src/config.ts` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

* —Å–ø–∏—Å–æ–∫ URL
* –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ —à–∞–≥–æ–≤
* –∑–∞—â–∏—Ç—É –æ—Ç –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è
* –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è input/email

---

# –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É 

## üîé Quick Verification (2‚Äì3 –º–∏–Ω—É—Ç—ã)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

### 1Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install
npx playwright install
```

---

### 2Ô∏è‚É£ –ß–∏—Å—Ç—ã–π –∑–∞–ø—É—Å–∫ (–æ–¥–Ω–∞ –≤–æ—Ä–æ–Ω–∫–∞)

```bash
rm -rf results
npm run dev -- https://coursiv.io/dynamic --headful
```

–î–æ–∂–¥–∏—Ç–µ—Å—å –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ paywall.

---

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ paywall –¥–æ—Å—Ç–∏–≥–Ω—É—Ç

```bash
grep -Ri "paywall detected" results/*/log.txt
```

–û–∂–∏–¥–∞–µ–º–æ: –≤—ã–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫—É `Paywall detected`.

---

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```bash
ls results
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å:

```
results/<funnel-slug>/
results/_classified/
summary.json
```

---

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```bash
cat results/summary.json
```

–û–∂–∏–¥–∞–µ–º–æ:

```json
{
  "totalFunnels": 1,
  "funnelsReachedPaywall": 1
}
```

---

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ paywall-—Å–∫—Ä–∏–Ω—à–æ—Ç–∞

```bash
ls results/_classified/paywall
```

–î–æ–ª–∂–µ–Ω –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å PNG-—Ñ–∞–π–ª.

---

### 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
npm run dev -- https://coursiv.io/dynamic --safari --headful
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –º–æ–±–∏–ª—å–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è iPhone 13 –≤ –æ–∫–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞.

---

## ‚úî –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

* –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è
* –ï—Å—Ç—å –ø–∞–ø–∫–∞ `_classified`
* Paywall –¥–µ—Ç–µ–∫—Ç–∏—Ç—Å—è
* –í `summary.json` —É–∫–∞–∑–∞–Ω–æ `reachedPaywall: true`
* –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –º–æ–±–∏–ª—å–Ω–æ–π —ç–º—É–ª—è—Ü–∏–∏

---
